<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>oson.annotation.js</title>
    <script type="module" src="index.js"></script>
    <script type="module">
        import {compile} from "./index.js";

        window.onload = function () {
            document.getElementById("button").onclick = function () {
                try {
                    let result = compile(document.getElementById("osonAnnotation").value);
                    document.getElementById("jsonschema").value = result;
                } catch(e) {
                    document.getElementById("jsonschema").value = e;
                }
            };
        };
        export let a =3;
    </script>
</head>
<body>
<h1>oson.annotation to JSON Schema Compiler, use '=====' for more docs</h1>
<textarea id="osonAnnotation" rows="30" cols="80">
@Integer
=====
@String
=====
@Boolean
=====
@(Boolean)|(Integer[3,5])
=====
@(String[2,4])|(Integer[3,5])
=====
@(String[2,4]{'aa','bb'})|(Integer[3,5]{4,5})
=====
@Number
=====
@Integer[1,100]
=====
@Number[1,10]
=====
@String[1,10]
=====
@String{'hi','hello'}
=====
@Null
=====
@Any
=====
@*
=====
@*(Integer)
=====
@String[1,10]/^http/
=====
@JSON
=====
@String[1,10]='hello'
=====
@String[1,10]/^[hmnis]/{'hello','my','name','is','shen'}='hello'
=====
@Number[1,10]{1,2,3,4,5}=4
=====
@(String[1,10]/^[hmnis]/{'hello','my','name','is','shen'}='hello')|(Number[1,10]{1,2,3,4,5}=4)
  </textarea>
<textarea id="jsonschema" rows="30" cols="80">
    please press "convert" button
</textarea>
<p>
    <button id="button">convert</button>
</p>
<p><a href="https://github.com/sstshenshutao/oson.annotation.js">project</a></p>
</body>
</html>
